<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="addressForm.css">
    <title>Next Book</title>
    
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Varela+Round">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/iconify/2.0.0/iconify.min.js" integrity="sha512-lYMiwcB608+RcqJmP93CMe7b4i9G9QK1RbixsNu4PzMRJMsqr/bUrkXUuFzCNsRUo3IXNUr5hz98lINURv5CNA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<link rel = "icon" href =  
"main_logo.jpeg" 
    type = "image/x-icon"> 
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<link rel="stylesheet" href="addressForm.css">
</head>
<body style=background-color:rgba(250,237,217,0.5); >
        <div class="main-container">
            <nav class="navbar navbar-expand-lg navbar-light bg-light" style="height: 100px;">
                <a href="#" class="navbar-brand" style="font-size: 30px;"  >Next<b>Book</b></a>  		
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
                    <span class="navbar-toggler-icon"></span>
                </button>
                
                <div id="navbarCollapse" class="collapse navbar-collapse justify-content-start">
                    <div class="navbar-nav" style="padding-left: 40px; ">
                        <a href="homePage.html" class="nav-item nav-link" style="font-size: larger;">Home</a>
                        <a href="#" class="nav-item nav-link" style="font-size: larger;">About</a>			
                        
                        <a href="#" class="nav-item nav-link" style="font-size: larger;">Contact</a>
                        <a href="cards.html" class="nav-item nav-link"style="font-size: larger;">Cards</a>
                        <a href="addressForm.html" class="nav-item nav-link"style="font-size: larger; "><b>Address Book</b></a>
                        <a href="faq.html" class="nav-item nav-link"style="font-size: larger;">FAQs</a>
                    </div>
                    <form class="navbar-form form-inline">
                        <div class="input-group search-box">								
                            <input type="text" id="search" class="form-control" placeholder="Search here...">
                            <div class="input-group-append">
                                <span class="input-group-text">
                                    <i class="material-icons">&#xE8B6;</i>
                                </span>
                            </div>
                        </div>
                    </form>
                    
                </div>
            </nav>
    <div id="loadingSpinner" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);">
        <img src="loading-spinner.gif" alt="Loading..." style="width: 50px; height: 50px;">
    </div>
    <div class="container blur-container" style="padding-top: 120px; ">
        <h1>Add an Address</h1>
        <form id="contactForm">
            <label for="editName">First Name:</label>
            <input type="text" id="editName" required>
            <label for="editName2">Last Name:</label>
            <input type="text" id="editName2" required>
            <label for="editEmail">Email:</label>
            <input type="email" id="editEmail" required>
            <label for="editNumber">Number:</label>
            <input type="tel" id="editNumber" required>
            <label for="editAddress">Address:</label>
            <input type="text" id="editAddress" required>
            <label for="editCity" class="form-label">City</label>
            <input type="text" class="form-control" id="editCity">
            <label for="editState" class="form-label">State</label>
<select id="editState" class="form-select custom-dropdown">
    <option selected>Choose...</option>
        <option value="Andhra Pradesh">Andhra Pradesh</option>
    <option value="Arunachal Pradesh">Arunachal Pradesh</option>
    <option value="Assam">Assam</option>
    <option value="Bihar">Bihar</option>
    <option value="Chhattisgarh">Chhattisgarh</option>
    <option value="Goa">Goa</option>
    <option value="Gujarat">Gujarat</option>
    <option value="Haryana">Haryana</option>
    <option value="Himachal Pradesh">Himachal Pradesh</option>
    <option value="Jharkhand">Jharkhand</option>
    <option value="Karnataka">Karnataka</option>
    <option value="Kerala">Kerala</option>
    <option value="Madhya Pradesh">Madhya Pradesh</option>
    <option value="Maharashtra">Maharashtra</option>
    <option value="Manipur">Manipur</option>
    <option value="Meghalaya">Meghalaya</option>
    <option value="Mizoram">Mizoram</option>
    <option value="Nagaland">Nagaland</option>
    <option value="Odisha">Odisha</option>
    <option value="Punjab">Punjab</option>
    <option value="Rajasthan">Rajasthan</option>
    <option value="Sikkim">Sikkim</option>
    <option value="Tamil Nadu">Tamil Nadu</option>
    <option value="Telangana">Telangana</option>
    <option value="Tripura">Tripura</option>
    <option value="Uttar Pradesh">Uttar Pradesh</option>
    <option value="Uttarakhand">Uttarakhand</option>
    <option value="West Bengal">West Bengal</option>
      </select><br>
<div style="display: flex; justify-content: center; align-items: center;">
            <button type="button" onclick="addContact()" style="margin-top: 30px; margin-bottom: 20px;  background-color: #00b7b5; width: 150px;">Add Contact</button>
        </div>
        </form>
        

        <div id="contactList" class="contact-list"></div>
        <button id="shareAllBtn" type="button" onclick="shareAllContacts()" style="margin-top: 10px; margin-left: 185px; background-color: #3498db; color: #fff; width: 150px;">Share All</button>
        <p id="contactCount">Total Contacts: 0</p>
    </div>
</div>
    <div class="footer-clean" style="background-color:  #fff;">
        <footer>
            <div class="container2" style="padding-left: 20px; padding-right: 20px;">
                <div class="row justify-content-center">
                    <div class="col-sm-4 col-md-3 item">
                        <h3>Services</h3>
                        <ul>
                            <li><a href="homePage.html">Home</a></li>
                            <li><a href="cards.html">Cards</a></li>
                            <li><a href="new.html">Address</a></li>
                            
                        </ul>
                    </div>
                    <div class="col-sm-4 col-md-3 item">
                        <h3>About</h3>
                        <ul>
                            <li><a href="#">Company</a></li>
                            <li><a href="#">Team</a></li>
                            <li><a href="#">Legacy</a></li>
                        </ul>
                    </div>
                    <div class="col-sm-4 col-md-3 item">
                        <h3>Careers</h3>
                        <ul>
                            <li><a href="#">Job openings</a></li>
                            <li><a href="#">Employee success</a></li>
                            <li><a href="#">Benefits</a></li>
                        </ul>
                    </div>
                    <div class="col-lg-3 item social"><a href=""><i class="fa-brands fa-facebook" style=" font-size: 40px;margin-left: -2px; margin-top: -2px; margin-right: -2px;" ></i></a>
						<a href=""><i class="fa-brands fa-instagram" style="font-size: 40px;margin-left: -2px; margin-top: -2px; margin-right: -2px;"></i></a>
						<a href=""><i class="fa-brands fa-x-twitter" style="font-size: 40px;margin-left: -2px; margin-top: -2px; margin-right: -2px;"></i></a>
						<a href=""><i class="fa-brands fa-pinterest" style="font-size: 40px;margin-left: -2px; margin-top: -2px; margin-right: -2px;"></i></a>
                        
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <script >let contacts = [];
    document.addEventListener("DOMContentLoaded", function() {
    const storedContacts = JSON.parse(localStorage.getItem('contacts')) || [];
    contacts = storedContacts;
    displayContacts();
});


function addContact() {
    const name = document.getElementById("editName").value;
    const name2 = document.getElementById("editName2").value;
    const email = document.getElementById("editEmail").value;
    const numberInput = document.getElementById("editNumber");
    const address = document.getElementById("editAddress").value;
    const city = document.getElementById("editCity").value;
    const state = document.getElementById("editState").value;

    // Validate that the email is in a valid format only if it's filled
    if (email.trim() !== '') {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(email)) {
            showErrorAlert('Invalid Email', 'Please enter a valid email address.');
            return;
        }
    }

    // Check if the number field is not empty before performing number validation
    if (numberInput.value.trim() !== '') {
        // Validate that the number is a valid numeric input
        const number = parseFloat(numberInput.value);
        if (isNaN(number)) {
            showErrorAlert('Invalid Number', 'Please enter a valid number in the "Number" field.');
            return;
        }

        // Check if the number has less than 10 digits
        if (number.toString().length < 10) {
            showErrorAlert('Warning', 'The number should be at least 10 digits.');
            return;
        }
    }

    // Check if the required fields are empty
    if (!name || !address || !city || !state) {
        showErrorAlert('Missing Fields', 'Please fill in all required fields.');
        return;
    }

    const contact = { name, name2, email, number: numberInput.value.trim(), address, city, state };
    contacts.push(contact);

    saveContactsToLocalStorage();

    displayContacts();
    clearForm();
}
function saveContactsToLocalStorage() {
    localStorage.setItem('contacts', JSON.stringify(contacts));
}



function showErrorAlert(title, text) {
    Swal.fire({
        icon: 'error',
        title,
        text
    });
}
function shareContact(index) {
    if (navigator.share) {
        const contact = contacts[index];
        const shareData = {
            title: 'Contact Information',
            text: `Name: ${contact.name} ${contact.name2 || ''}\nEmail: ${contact.email || ''}\nNumber: ${contact.number}\nAddress: ${contact.address}, ${contact.city}, ${contact.state}`,
        };

        navigator.share(shareData)
            .then(() => {
                Swal.fire({
                    icon: 'success',
                    title: 'Shared Successfully',
                    text: 'Contact information has been shared.',
                });
            })
            .catch((error) => {
                console.error('Error sharing:', error);
                showErrorAlert('Error', 'Failed to share contact information.');
            });
    } else {
        alert('Web Share API is not supported in your browser.');
    }
}


// Attach SweetAlert2 to the "Add Contact" button click
document.querySelector('button[onclick="addContact()"]').onclick = function () {
    addContact();
};
function displayContacts() {
    const contactList = document.querySelector("#contactList");
    contactList.innerHTML = "";

    contacts.forEach((contact, index) => {
        const contactDiv = document.createElement("div");
        contactDiv.className = "contact";

        const editButton = document.createElement("button");
        editButton.innerHTML = "Edit";
        
editButton.className = "edit-btn";
        editButton.onclick = () => editContact(index); // Add event listener for editing

        const deleteButton = document.createElement("button");
        deleteButton.innerHTML = "Delete";
        deleteButton.className = "delete-btn";
        deleteButton.onclick = () => deleteContact(index);
        const shareButton = document.createElement("button");
        shareButton.innerHTML = "Share";
        shareButton.className = "share-btn";
        shareButton.onclick = () => shareContact(index); // Add event listener for sharing

        // Create a container for buttons and add styling
        const buttonContainer = document.createElement("div");
        buttonContainer.style.marginTop = "10px";
        buttonContainer.style.marginBottom = "20px"; // Adjust the top margin as needed
        buttonContainer.style.display = "flex"; // Use flexbox
        buttonContainer.style.gap = "10px"; // Adjust the gap between buttons as needed

        buttonContainer.appendChild(editButton);
        buttonContainer.appendChild(deleteButton);
        buttonContainer.appendChild(shareButton);

        contactDiv.innerHTML = `
            <p><strong>First Name:</strong> ${contact.name}</p>
            <p><strong>Last Name:</strong> ${contact.name2 || ''}</p>
            <p><strong>Email:</strong> ${contact.email || ''}</p>
            <p><strong>Number:</strong> ${contact.number}</p>
            <p><strong>Address:</strong> ${contact.address}</p>
            <p><strong>City:</strong> ${contact.city}</p>
            <p><strong>State:</strong> ${contact.state}</p>
        `;

        // Append the button container to the contact div
        contactDiv.appendChild(buttonContainer);
        contactList.appendChild(contactDiv);
    });
    const shareAllButton = document.getElementById("shareAllBtn");
    shareAllButton.style.display = contacts.length >= 2 ? "block" : "none";
    const contactCountElement = document.getElementById("contactCount");
    contactCountElement.textContent = `Total Contacts: ${contacts.length}`;
    
}
function editContact(index) {
    const contact = contacts[index];

    // Set the form values to the selected contact's details
    document.getElementById("editName").value = contact.name;
    document.getElementById("editName2").value = contact.name2 || '';
    document.getElementById("editEmail").value = contact.email || '';
    document.getElementById("editNumber").value = contact.number;
    document.getElementById("editAddress").value = contact.address;
    document.getElementById("editCity").value = contact.city;
    document.getElementById("editState").value = contact.state;

    // Remove the selected contact from the contacts array
    contacts.splice(index, 1);

    // Refresh the displayed contacts
    displayContacts();
    saveContactsToLocalStorage();
}
function shareAllContacts() {
    if (navigator.share) {
        if (contacts.length >= 2) {
            const shareData = {
                title: 'Contacts Information',
                text: generateAllContactsText(),
            };

            navigator.share(shareData)
                .then(() => {
                    Swal.fire({
                        icon: 'success',
                        title: 'Shared Successfully',
                        text: 'All contacts information has been shared.',
                    });
                })
                .catch((error) => {
                    console.error('Error sharing all contacts:', error);
                    showErrorAlert('Error', 'Failed to share all contacts information.');
                });
        } else {
            showErrorAlert('Insufficient Contacts', 'You need at least 2 contacts to use "Share All".');
        }
    } else {
        alert('Web Share API is not supported in your browser.');
    }
}

function generateAllContactsText() {
    return contacts.map(contact => {
        return `Name: ${contact.name} ${contact.name2 || ''}\nEmail: ${contact.email || ''}\nNumber: ${contact.number}\nAddress: ${contact.address}, ${contact.city}, ${contact.state}\n\n`;
    }).join('');
}



    

function deleteContact(index) {
    Swal.fire({
        title: 'Are you sure?',
        text: 'You won\'t be able to revert this!',
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#d33',
        cancelButtonColor: '#3085d6',
        confirmButtonText: 'Yes, delete it!'
    }).then((result) => {
        if (result.isConfirmed) {
            contacts.splice(index, 1);
            displayContacts();
            saveContactsToLocalStorage();

            Swal.fire(
                'Deleted!',
                'The contact has been deleted.',
                'success'
            );
        }
    });
}
document.addEventListener("DOMContentLoaded", function () {
        // Select all input fields in the form
        const formInputs = document.querySelectorAll('#contactForm input, #contactForm select');

        // Add event listener to each input field
        formInputs.forEach(function (input, index, inputs) {
            input.addEventListener('keyup', function (event) {
                if (event.key === 'Enter') {
                    // Prevent form submission
                    event.preventDefault();

                    // Focus on the next input field
                    const nextIndex = (index + 1) % inputs.length;
                    inputs[nextIndex].focus();
                }
            });
        });
    });

function clearForm() {
    document.getElementById("contactForm").reset();
}

document.querySelector('button[onclick="addContact()"]').onclick = function () {
    addContact();
};
document.addEventListener("DOMContentLoaded", function () {
    animateContainer();
    animateContactCards();
});

function animateContainer() {
    const container = document.querySelector(".container");
    container.style.animation = "fadeInUp 0.8s ease-out";
}

function animateContactCards() {
    const contactCards = document.querySelectorAll(".contact");
    contactCards.forEach((card, index) => {
        card.style.animation = "fadeIn 0.8s ease-out";
        card.style.animationDelay = `${0.2 * index}s`; // Delay each card for a staggered effect
    });
}
document.addEventListener("DOMContentLoaded", function () {
    const container = document.querySelector(".container");
    const navbarCollapse = document.getElementById("navbarCollapse");

    document.querySelector(".navbar-toggler").addEventListener("click", function () {
        if (navbarCollapse.classList.contains("show")) {
            container.classList.remove("blur-container");
        } else {
            container.classList.add("blur-container");
        }
    });

    // Remove blur-container class initially
    container.classList.remove("blur-container");

    // Initial display
    displayContacts();
});

        // Initial display
        displayContacts();</script>

</body>
</html>


